general:
  branches:
    only:
      - master
    ignore:
      - develop

machine:
  python:
    version: 3.4.2

dependencies:
  pre:
    - yes | pecl install mongodb
    - echo "extension=mongodb.so" > /opt/circleci/php/$(phpenv global)/etc/php.ini
    - pip install awsebcli
    - eb init paragongg -p Node.js -r us-west-2
test:
  override:
    - phpunit

deployment:
  production:
      branch: master
      commands:
        - eb deploy --profile default